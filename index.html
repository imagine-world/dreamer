<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
    <!-- <meta name="viewport" content="width=device-width,initial-scale=1.0"> -->
    <title>music</title>
  </head>
      <style>
        *{
          margin: 0;
          padding: 0;
        }
      </style>
  <body>
    <div id="app"></div>
    <small-framework>dsad</small-framework>
    <script>
       // Create a class for the element
       class PopUpInfo extends HTMLElement {
        constructor () {
        // Always call super first in constructor
        super()

        // Create a shadow root
        var shadow = this.attachShadow({ mode: 'open' })

        // Create spans
        var wrapper = document.createElement('span')
        wrapper.setAttribute('class', 'wrapper')
        wrapper.textContent = 'hi world!'
        var icon = document.createElement('span')
        icon.setAttribute('class', 'icon')
        icon.setAttribute('tabindex', 0)
        var info = document.createElement('span')
        info.setAttribute('class', 'info')

        // Take attribute content and put it inside the info span
        var text = this.getAttribute('text')
        info.textContent = text

        // Insert icon
        var imgUrl
        if (this.hasAttribute('img')) {
          imgUrl = this.getAttribute('img')
        } else {
          imgUrl = 'http://uploads.5068.com/allimg/1802/75-1P20Q00915-51.jpg'
        }
        var img = document.createElement('img')
        img.src = imgUrl
        icon.appendChild(img)

        // Create some CSS to apply to the shadow dom
        var style = document.createElement('style')

        style.textContent = '.wrapper {' +
                              'position: relative;' +
                            '}' +

                            '.info {' +
                                'font-size: 0.8rem;' +
                                'width: 200px;' +
                                'display: inline-block;' +
                                'border: 1px solid black;' +
                                'padding: 10px;' +
                                'background: white;' +
                                'border-radius: 10px;' +
                                'opacity: 0;' +
                                'transition: 0.6s all;' +
                                'position: absolute;' +
                                'bottom: 20px;' +
                                'left: 10px;' +
                                'z-index: 3;' +
                              '}' +

                              'img {' +
                                'width: 1.2rem' +
                              '}' +

                              '.icon:hover + .info, .icon:focus + .info {' +
                                'opacity: 1;' +
                              '}'

        // attach the created elements to the shadow dom

        shadow.appendChild(style)
        shadow.appendChild(wrapper)
        wrapper.appendChild(icon)
        wrapper.appendChild(info)
      }
    }

    // Define the new element
    customElements.define('small-framework', PopUpInfo)
    </script>
    <!-- built files will be auto injected -->
  </body>
</html>
